<%= turbo_stream_from @room %>
<%= turbo_stream_from @client.id %>

<p>Room ID: <%= @room.id %></p>

<article
  class="room"
  data-controller="room"
  data-room-id-value="<%= @room.id %>"
  data-room-client-id-value="<%= @client.id %>"
>
  <div class="media" id="media">
    <div class="medium medium--local" data-controller="medium">
      <div>
        <video data-room-target="localMedium" data-medium-target="mediaElement" muted autoplay playsinline></video>
      </div>
      <% if @user %>
        <div>
          <p><%= @user.name %></p>
        </div>
      <% end %>
      <div class="medium-actions">
        <%= button_tag 'Enter',  data: { room_target: 'enter', action: 'room#enter' } %>
      </div>
    </div>
  </div>
</article>
